(function(){'use strict';var OneSignal=window.OneSignal||[];var request=function(type,dataType,url,data,callback,errorcallback){var responseData,ajaxUrl=url;$("#leftOverlay").trigger("click");$("body").css("overflow","auto");$.ajax({url:ajaxUrl,type:type,success:function(response){responseData=(response);},complete:function(event,xhr){if(xhr==="error"){if(typeof errorcallback==="function"){errorcallback((responseData));}}else{if(typeof callback==="function"){callback((responseData));}}
$(window).scrollTop(0);$("#leftOverlay").hide();$(".loader-geonews").addClass("hide");}});},seturl=function(url,title){history.pushState({},title,url);},setupHeadData=function(data){var tempEle=$("<div></div>").html(data),title=tempEle.find("title").text(),metaTitle=tempEle.find('meta[name="TITLE"]').attr('content'),metaDescription=tempEle.find('meta[name="description"]').attr('content'),metaKeywords=tempEle.find('meta[name="keywords"]').attr('content'),ogTitle=tempEle.find('meta[property="og:title"]').attr('content'),ogImage=tempEle.find('meta[property="og:image"]').attr('content'),ogDescription=tempEle.find('meta[property="og:description"]').attr('content'),ogUrl=tempEle.find('meta[property="og:url"]').attr('content'),ampHtml=tempEle.find('link[rel="amphtml"]').attr('href');document.title=title;$("html").find('meta[name="TITLE"]').attr('content',metaTitle);$("html").find('meta[name="description"]').attr('content',metaDescription);$("html").find('meta[name="keywords"]').attr('content',metaKeywords);if(typeof ogTitle!=="undefiend"){if(typeof $("html").find('meta[property="og:title"]').attr('content')==="undefiend"){$("html").find("head").append('<meta property="og:title">');}
$("html").find('meta[property="og:title"]').attr('content',ogTitle);}
if(typeof ogImage!=="undefiend"){if(typeof $("html").find('meta[property="og:image"]').attr('content')==="undefiend"){$("html").find("head").append('<meta property="og:image">');}
$("html").find('meta[property="og:image"]').attr('content',ogImage);}
if(typeof ogDescription!=="undefiend"){if(typeof $("html").find('meta[property="og:description"]').attr('content')==="undefiend"){$("html").find("head").append('<meta property="og:description">');}
$("html").find('meta[property="og:description"]').attr('content',ogDescription);}
if(typeof ogUrl!=="undefiend"){if(typeof $("html").find('meta[property="og:url"]').attr('content')==="undefiend"){$("html").find("head").append('<meta property="og:url">');}
$("html").find('meta[property="og:url"]').attr('content',ogUrl);}
if(typeof ampHtml!=="undefiend"){if(typeof $("html").find('link[rel="amphtml"]').attr('href')==="undefiend"){$("html").find("head").append('<link rel="amphtml">');}
$("html").find('link[rel="amphtml"]').attr('href',ampHtml);}};$(function(){var windowWidth=$(window).width();$("body").on("click","a.open-section,.pagination a",function(e){var windowWidth=$(window).width();if(windowWidth<=767){e.preventDefault();e.stopPropagation();var ele=$(this),title=typeof ele.attr("title")!="undefined"?ele.attr("title"):"",requestedUrl=$(this).attr("href");$(".loader-geonews").removeClass("hide");$("#leftOverlay").trigger("click");if(window.navigator.onLine){seturl(requestedUrl,title);window.top.location=window.top.location;}else{request("get","JSON",requestedUrl,{isAjax:true},function(result){seturl(requestedUrl,title);window.top.location=window.top.location;},function(result){console.log("No internet connection");});}}});if(windowWidth<=767){$(window).bind("popstate",function(e){var requestedUrl=window.location.href;$(".loader-geonews").removeClass("hide");if(window.navigator.onLine){window.top.location=requestedUrl;}else{request("get","JSON",requestedUrl,{isAjax:true},function(result){window.top.location=requestedUrl;},function(result){console.log("No internet connection");});}});}
$(".top-head-bell-responsive").on("click",function(e){$("#leftOverlay").trigger("click");});$("body").on("click",".slide-bell",function(e){e.preventDefault();$(".geo-news-panel.fixed-side-button").addClass("open");$("#leftOverlay").addClass("leftoverlay-from-right").show();$("body").css('overflow','hidden');});$("body").on("change","#subsChecked",function(){$("#leftOverlay").trigger("click");});$("body").on("click",".saveCategories",function(){$("#leftOverlay").trigger("click");});$("#leftOverlay").click(function(){$(this).removeClass("leftoverlay-from-right");$(".geo-news-panel.fixed-side-button").removeClass("open");$("body").css('overflow','auto');});$("#subsChecked").click(function(){var ele=$(this);var saveTags={};if(ele.is(":checked"))
$(".subscription_categories").removeAttr("disabled").attr("checked","checked");$(".subscription_categories").each(function(k,v){var value=v.value;saveTags[value]=value;});var deletedTags=[];$(".subscription_categories").each(function(k,v){var value=v.value;deletedTags.push(value);});OneSignal.push(function(){OneSignal.registerForPushNotifications();if(ele.is(":checked")){$(".subscription_categories").removeAttr("disabled").attr("checked","checked");OneSignal.sendTags(saveTags);$(".saveCategories").removeClass("disable");}else{$(".subscription_categories").attr("disabled","disabled").removeAttr("checked");OneSignal.deleteTags(deletedTags);$(".saveCategories").addClass("disable");}});});$(".saveCategories").on("click",function(){var obj={};var deleteTags=[];$(".subscription_categories").each(function(){var ele=$(this);if(!ele.is(":checked")){deleteTags.push(ele.val());}else{obj[ele.val()]=ele.val();}});OneSignal.push(function(){OneSignal.deleteTags(deleteTags);OneSignal.sendTags(obj);});});OneSignal.push(function(){var isPushSupported=OneSignal.isPushNotificationsSupported();if(!!isPushSupported){$(".slide-bell").removeClass("disable");OneSignal.isPushNotificationsEnabled(function(notOptedOut){if(notOptedOut){$(".subscription_categories").removeAttr("disabled");$(".saveCategories").removeClass("disable");$("#subsChecked").prop("checked",true);OneSignal.getTags(function(tags){if(tags!==null){$.each(tags,function(k,v){var ele=$(".subscription_categories[value='"+v+"']");ele.prop("checked",true);ele.removeAttr("disabled");});}});}});}});if('serviceWorker'in navigator){navigator.serviceWorker.register('/OneSignalSDKWorker.js?appId=07399937-4be5-465d-b70f-faf99fb461e6',{scope:'/'}).then(function(reg){reg.onupdatefound=function(){var installingWorker=reg.installing;installingWorker.onstatechange=function(){switch(installingWorker.state){case 'installed':if(navigator.serviceWorker.controller){console.log('New or updated content is available.');}else{console.log('Content is now available offline!');}
break;case 'redundant':console.error('The installing service worker became redundant.');break;}};};}).catch(function(e){console.error('Error during service worker registration:',e);});}
$("#leftOverlay").swipe({preventDefaultEvents:false,swipe:function(event,direction,distance,duration,fingerCount,fingerData)
{if(direction==="left"&&!$("#leftOverlay").hasClass("leftoverlay-from-right")){$("#leftOverlay").trigger("click");}
if(direction==="right"&&$("#leftOverlay").hasClass("leftoverlay-from-right")){$("#leftOverlay").trigger("click");}},threshold:0});var plateForm=$.pgwBrowser();if(plateForm.os.group==="Android"){$("body").addClass("androidPlateform");}else if(plateForm.os.group==="iOS"&&plateForm.os.majorVersion>=9){$("body").addClass("iosPlateform");}else if(plateForm.os.group==="iOS"&&plateForm.os.majorVersion<9){$("body").addClass("ios8Plateform");}else{$("body").addClass("androidPlateform");}
if(window.navigator.onLine){$("body").removeClass("grayScale");$(".offline-mode-container").addClass("hide");}else{$("body").addClass("grayScale");$(".offline-mode-container").removeClass("hide");}
if(window.matchMedia('(display-mode: standalone)').matches){$(".open-install-tuts").remove();}});window.addEventListener('load',function(){setTimeout(function(){window.addEventListener('online',function(){$("body").removeClass("grayScale");$(".offline-mode-container").addClass("hide");window.location.reload(true);});window.addEventListener('offline',function(){$("body").addClass("grayScale");$(".offline-mode-container").removeClass("hide");});},200);});}())